(this.webpackJsonpfbd=this.webpackJsonpfbd||[]).push([[0],{81:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),s=a(29),i=a.n(s),r=a(4),c=a(5),l=a(7),d=a(6),u=a(23),p=a(14),j=a(3),h=a.n(j),b=a(12),m=a(86),f=a(85),v=a(1),O=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"todo padding",children:[this.props.check?"":Object(v.jsx)("input",{type:"checkbox",onChange:this.props.checked}),Object(v.jsxs)("label",{htmlFor:this.props.value,children:[this.props.values.name," - R$ ",this.props.values.value," - vencimento: ",Object(m.a)(Object(f.a)(new Date(this.props.values.due)),"dd/MM/yyyy"),Object(v.jsx)("br",{}),"Respons\xe1vel: @",this.props.user,Object(v.jsx)("br",{}),"Quem j\xe1 pagou: ",this.props.payments.length>0?this.props.payments.join(", "):"ningu\xe9m"]}),Object(v.jsxs)("div",{className:"actions",children:[this.props.edit?Object(v.jsx)("button",{className:"btn-clear",onClick:this.props.edited,children:Object(v.jsx)(b.c,{})}):"",this.props.del?Object(v.jsx)("button",{className:"btn-clear",onClick:this.props.remove,children:Object(v.jsx)(b.b,{})}):""]})]})}}]),a}(n.Component),g=a(10),x=a(9),y=a.n(x),_=a(13),w=a(17),C=a(8),k=a.n(C),N="http://localhost:3333",S=Object(w.b)({name:"bill",initialState:{home:[],personal:[],payed:[],payment:[]},reducers:{setHome:function(e,t){e.home=t.payload},setPersonal:function(e,t){e.personal=t.payload},setPayed:function(e,t){e.payed=t.payload},setPayment:function(e,t){e.payment=t.payload},addBill:function(e,t){k.a.post(N+"/bill/",t.payload).then((function(e){console.log(e.status),window.location.reload()}))},removeBill:function(e,t){k.a.delete(N+"/bill/"+t.payload.bill_id,{data:{creator_id:t.payload.creator_id}}).then((function(e){console.log(e.status),window.location.reload()}))},updateBill:function(e,t){k.a.put(N+"/bill/"+t.payload.bill_id,t.payload.bill).then((function(e){console.log(e.status),window.location.reload()}))},payBill:function(e,t){k.a.post(N+"/pay/",t.payload).then((function(e){console.log(e),window.location.reload()}))}}}),D=S.reducer,U=S.actions,q=U.setHome,B=U.setPayed,M=U.setPersonal,T=U.addBill,H=U.removeBill,V=U.updateBill,R=U.payBill,P=U.setPayment;function z(e){return function(){var t=Object(_.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get(N+"/pay/?home_id="+e).then((function(e){a(P(e.data))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var I=Object(w.b)({name:"user",initialState:{user:[],allUser:[]},reducers:{setUser:function(e,t){e.user=t.payload},setAllUser:function(e,t){e.allUser=t.payload},addUser:function(e,t){k.a.post(N+"/user/",t.payload).then((function(e){console.log(e),window.location.reload()}))},addHomeInUser:function(e,t){k.a.put(N+"/user/"+t.payload.user_id,t.payload.user).then((function(e){console.log(e),window.location.reload()}))},deleteUser:function(e,t){k.a.delete(N+"/user/"+t.payload).then((function(e){console.log(e),window.location.reload()}))}}}),A=I.actions,F=A.setUser,E=A.setAllUser,W=A.addUser,Q=A.addHomeInUser,L=A.deleteUser,J=I.reducer;function $(e){return function(){var t=Object(_.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get(N+"/user/?home_id="+e).then((function(e){a(F(e.data))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function G(){return function(){var e=Object(_.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/user/").then((function(e){t(E(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var K=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{className:"modal d-none",id:this.props.id,children:Object(v.jsxs)("div",{className:"form padding modal-content",children:[Object(v.jsx)("div",{className:"modal-close",children:Object(v.jsx)("button",{className:"btn-clear",onClick:function(){h()("#"+e.props.id).addClass("d-none")},children:"x"})}),this.props.children]})})}}]),a}(n.Component),X=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).apagar=function(e){var t={bill_id:e,creator_id:n.props.login.user_id};window.confirm("Deseja realmente apagar?")&&n.props.removeBill(t)},n.atualizar=function(e){e.preventDefault();var t={name:n.state.titulo,responsible_id:n.state.responsavel,due:n.state.vencimento,value:n.state.valor,home:n.state.para,creator_id:n.props.login.user_id,home_id:n.props.login.home_id};n.props.updateBill({bill_id:n.state.id,bill:t}),h()("#"+n.state.id).addClass("d-none"),n.setState({id:"",para:"",titulo:"",valor:"",vencimento:"",responsavel:""})},n.pagarConta=function(e){var t={bill_id:e,payer_id:n.props.login.user_id};n.props.payBill(t)},n.state={id:"",para:"",titulo:"",valor:"",vencimento:"",responsavel:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getHome(this.props.login.home_id),this.props.getUser(this.props.login.home_id),this.props.getPayment(this.props.login.home_id)}},{key:"render",value:function(){var e=this,t=[],a=[],n=[];return this.props.user&&this.props.user.map((function(e,t){return n.push(Object(v.jsxs)("option",{value:e.id,children:["@",e.username]},t))})),this.props.home!==[]&&this.props.user!==[]&&this.props.payment!==[]&&this.props.home.map((function(o,s){e.props.user.map((function(i){var r=[];e.props.payment.map((function(e){e.bill_id===o.id&&r.push("@"+e.username)})),i.id===o.responsible_id&&(t.push(Object(v.jsx)(O,{value:s,payments:r,checked:function(){e.pagarConta(o.id)},remove:function(){e.apagar(o.id)},edited:function(){h()("#"+o.id).removeClass("d-none")},edit:e.props.login.user_id===o.creator_id,del:e.props.login.user_id===o.creator_id,user:i.username,values:o},s)),a.push(Object(v.jsxs)(K,{id:o.id,children:[Object(v.jsx)("h2",{children:"Conta"}),Object(v.jsxs)("form",{onSubmit:e.atualizar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"T\xedtulo:"}),Object(v.jsx)("input",{type:"text",defaultValue:o.name,onChange:function(t){e.setState({titulo:t.target.value,valor:o.value,para:o.home,vencimento:Object(m.a)(Object(f.a)(new Date(o.due)),"yyyy-MM-dd"),responsavel:o.responsible_id,id:o.id})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Valor total:"}),Object(v.jsx)("input",{type:"number",defaultValue:o.value,onChange:function(t){e.setState({valor:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Vencimento:"}),Object(v.jsx)("input",{type:"date",defaultValue:Object(m.a)(Object(f.a)(new Date(o.due)),"yyyy-MM-dd"),onChange:function(t){e.setState({vencimento:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",id:"responsavel",children:[Object(v.jsx)("label",{children:"Respons\xe1vel:"}),Object(v.jsxs)("select",{onChange:function(t){e.setState({responsavel:t.target.value})},children:[Object(v.jsxs)("option",{defaultValue:!0,hidden:!0,value:"",children:["@",i.username]}),n]})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",className:"btn",value:"Salvar"})})]})]},s)))}))})),Object(v.jsxs)("div",{children:[a,t]})}}]),a}(n.Component),Y=Object(g.b)((function(e){return{login:e.login,home:e.bill.home,user:e.user.user,payment:e.bill.payment}}),(function(e){return{getHome:function(t){var a;e((a=t,function(){var e=Object(_.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/bill/?type=true&home_id="+a).then((function(e){t(q(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},getUser:function(t){e($(t))},getPayment:function(t){e(z(t))},removeBill:function(t){e(H(t))},updateBill:function(t){e(V(t))},payBill:function(t){e(R(t))}}}))(X),Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).apagar=function(e){var t={bill_id:e,creator_id:n.props.login.user_id};window.confirm("Deseja realmente apagar?")&&n.props.removeBill(t)},n.atualizar=function(e){e.preventDefault();var t={name:n.state.titulo,responsible_id:n.state.responsavel,due:n.state.vencimento,value:n.state.valor,home:n.state.para,creator_id:n.props.login.user_id,home_id:n.props.login.home_id};n.props.updateBill({bill_id:n.state.id,bill:t}),h()("#"+n.state.id).addClass("d-none"),n.setState({id:"",para:"",titulo:"",valor:"",vencimento:"",responsavel:""})},n.pagarConta=function(e){var t={bill_id:e,payer_id:n.props.login.user_id};n.props.payBill(t)},n.state={id:"",para:"",titulo:"",valor:"",vencimento:"",responsavel:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getPersonal(this.props.login.home_id),this.props.getUser(this.props.login.home_id)}},{key:"render",value:function(){var e=this,t=[],a=[],n=[];return this.props.user&&this.props.user.map((function(e,t){return n.push(Object(v.jsxs)("option",{value:e.id,children:["@",e.username]},t))})),this.props.personal!==[]&&this.props.user!==[]&&this.props.personal.map((function(o,s){e.props.user.map((function(i){var r=[];e.props.payment.map((function(e){e.bill_id===o.id&&r.push("@"+e.username)})),i.id===o.responsible_id&&i.id===e.props.login.user_id&&(t.push(Object(v.jsx)(O,{value:s,payments:r,checked:function(){e.pagarConta(o.id)},remove:function(){e.apagar(o.id)},edited:function(){h()("#"+o.id).removeClass("d-none")},edit:e.props.login.user_id===o.creator_id,del:e.props.login.user_id===o.creator_id,user:i.username,values:o},s)),a.push(Object(v.jsxs)(K,{id:o.id,children:[Object(v.jsx)("h2",{children:"Conta"}),Object(v.jsxs)("form",{onSubmit:e.atualizar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"T\xedtulo:"}),Object(v.jsx)("input",{type:"text",defaultValue:o.name,onChange:function(t){e.setState({titulo:t.target.value,valor:o.value,para:o.home,vencimento:Object(m.a)(Object(f.a)(new Date(o.due)),"yyyy-MM-dd"),responsavel:o.responsible_id,id:o.id})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Valor total:"}),Object(v.jsx)("input",{type:"number",defaultValue:o.value,onChange:function(t){e.setState({valor:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Vencimento:"}),Object(v.jsx)("input",{type:"date",defaultValue:Object(m.a)(Object(f.a)(new Date(o.due)),"yyyy-MM-dd"),onChange:function(t){e.setState({vencimento:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",id:"responsavel",children:[Object(v.jsx)("label",{children:"Respons\xe1vel:"}),Object(v.jsxs)("select",{onChange:function(t){e.setState({responsavel:t.target.value})},children:[Object(v.jsxs)("option",{defaultValue:!0,hidden:!0,value:"",children:["@",i.username]}),n]})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",className:"btn",value:"Salvar"})})]})]},s)))}))})),Object(v.jsxs)("div",{children:[a,t]})}}]),a}(n.Component),ee=Object(g.b)((function(e){return{login:e.login,personal:e.bill.personal,user:e.user.user,payment:e.bill.payment}}),(function(e){return{getPersonal:function(t){var a;e((a=t,function(){var e=Object(_.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/bill/?type=false&home_id="+a).then((function(e){t(M(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},getUser:function(t){e($(t))},getPayment:function(t){e(z(t))},removeBill:function(t){e(H(t))},updateBill:function(t){e(V(t))},payBill:function(t){e(R(t))}}}))(Z),te=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).apagar=function(e){var t={bill_id:e,creator_id:n.props.login.user_id};window.confirm("Deseja realmente apagar?")&&n.props.removeBill(t)},n.atualizar=function(e){e.preventDefault();var t={name:n.state.titulo,responsible_id:n.state.responsavel,due:n.state.vencimento,value:n.state.valor,home:n.state.para,creator_id:n.props.login.user_id,home_id:n.props.login.home_id};n.props.updateBill({bill_id:n.state.id,bill:t}),h()("#"+n.state.id).addClass("d-none"),n.setState({id:"",para:"",titulo:"",valor:"",vencimento:"",responsavel:""})},n.pagarConta=function(e){var t={bill_id:e,payer_id:n.props.login.user_id};n.props.payBill(t)},n.state={id:"",para:"",titulo:"",valor:"",vencimento:"",responsavel:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getPayed(this.props.login.home_id),this.props.getUser(this.props.login.home_id)}},{key:"render",value:function(){var e=this,t=[],a=[],n=[];return this.props.user&&this.props.user.map((function(e,t){return n.push(Object(v.jsxs)("option",{value:e.id,children:["@",e.username]},t))})),this.props.payed!==[]&&this.props.user!==[]&&this.props.payed.map((function(o,s){e.props.user.map((function(i){var r=[];e.props.payment.map((function(e){e.bill_id===o.id&&r.push("@"+e.username)})),i.id===o.responsible_id&&(t.push(Object(v.jsx)(O,{value:s,check:!0,payments:r,user:i.username,values:o},s)),a.push(Object(v.jsxs)(K,{id:o.id,children:[Object(v.jsx)("h2",{children:"Conta"}),Object(v.jsxs)("form",{onSubmit:e.atualizar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"T\xedtulo:"}),Object(v.jsx)("input",{type:"text",defaultValue:o.name,onChange:function(t){e.setState({titulo:t.target.value,valor:o.value,para:o.home,vencimento:Object(m.a)(Object(f.a)(new Date(o.due)),"yyyy-MM-dd"),responsavel:o.responsible_id,id:o.id})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Valor total:"}),Object(v.jsx)("input",{type:"number",defaultValue:o.value,onChange:function(t){e.setState({valor:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Vencimento:"}),Object(v.jsx)("input",{type:"date",defaultValue:Object(m.a)(Object(f.a)(new Date(o.due)),"yyyy-MM-dd"),onChange:function(t){e.setState({vencimento:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",id:"responsavel",children:[Object(v.jsx)("label",{children:"Respons\xe1vel:"}),Object(v.jsxs)("select",{onChange:function(t){e.setState({responsavel:t.target.value})},children:[Object(v.jsxs)("option",{defaultValue:!0,hidden:!0,value:"",children:["@",i.username]}),n]})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",className:"btn",value:"Salvar"})})]})]},s)))}))})),Object(v.jsxs)("div",{children:[a,t]})}}]),a}(n.Component),ae=Object(g.b)((function(e){return{login:e.login,payed:e.bill.payed,user:e.user.user,payment:e.bill.payment}}),(function(e){return{getPayed:function(t){var a;e((a=t,function(){var e=Object(_.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/bill/?type=false&status=true&home_id="+a).then((function(e){t(B(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},getUser:function(t){e($(t))},getPayment:function(t){e(z(t))},removeBill:function(t){e(H(t))},updateBill:function(t){e(V(t))},payBill:function(t){e(R(t))}}}))(te),ne=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).changeBill=function(e){"home"===e.target.id&&(h()("#home").addClass("btn-active"),h()("#personal").removeClass("btn-active"),h()("#payed").removeClass("btn-active"),n.setState({show:Object(v.jsx)(Y,{})})),"personal"===e.target.id&&(h()("#home").removeClass("btn-active"),h()("#personal").addClass("btn-active"),h()("#payed").removeClass("btn-active"),n.setState({show:Object(v.jsx)(ee,{})})),"payed"===e.target.id&&(h()("#home").removeClass("btn-active"),h()("#personal").removeClass("btn-active"),h()("#payed").addClass("btn-active"),n.setState({show:Object(v.jsx)(ae,{})}))},n.salvar=function(e){e.preventDefault();var t={name:n.state.titulo,responsible_id:n.state.responsavel,due:n.state.vencimento,value:n.state.valor,home:n.state.para,creator_id:n.props.login.user_id,home_id:n.props.login.home_id};n.props.addBill(t),h()("#addShopping").addClass("d-none")},n.state={show:Object(v.jsx)(Y,{}),para:"",titulo:"",valor:"",vencimento:"",responsavel:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getUser(this.props.login.home_id)}},{key:"render",value:function(){var e=this,t=[];return this.props.user&&this.props.user.map((function(e,a){return t.push(Object(v.jsxs)("option",{value:e.id,children:["@",e.username]},a))})),Object(v.jsxs)("div",{className:"w-full padding",children:[Object(v.jsxs)("div",{className:"btn-bar w-full",children:[Object(v.jsx)("button",{className:"btn-clear add",onClick:function(){h()("#addShopping").removeClass("d-none")},children:Object(v.jsx)(b.a,{})}),Object(v.jsx)("button",{className:"btn-outline btn-flex btn-active",id:"home",onClick:this.changeBill,children:"Casa"}),Object(v.jsx)("button",{className:"btn-outline btn-flex",id:"personal",onClick:this.changeBill,children:"Pessoal"}),Object(v.jsx)("button",{className:"btn-outline btn-flex",id:"payed",onClick:this.changeBill,children:"Pagas"})]}),Object(v.jsxs)(K,{id:"addShopping",children:[Object(v.jsx)("h2",{children:"Conta"}),Object(v.jsxs)("form",{onSubmit:this.salvar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)("div",{className:"form-radio",children:[Object(v.jsx)("input",{type:"radio",name:"para",id:"casa",value:"true",required:!0,onChange:function(t){e.setState({para:t.target.value}),h()("#responsavel").removeClass("d-none")}}),Object(v.jsx)("label",{htmlFor:"casa",children:"Casa"})]}),Object(v.jsxs)("div",{className:"form-radio",children:[Object(v.jsx)("input",{type:"radio",name:"para",id:"pessoal",value:"false",onChange:function(t){e.setState({para:t.target.value,responsavel:e.props.login.user_id}),h()("#responsavel").addClass("d-none")}}),Object(v.jsx)("label",{htmlFor:"pessoal",children:"Pessoal"})]})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"T\xedtulo:"}),Object(v.jsx)("input",{type:"text",id:"titulo",required:!0,onChange:function(t){e.setState({titulo:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Valor total:"}),Object(v.jsx)("input",{type:"number",id:"valor",required:!0,onChange:function(t){e.setState({valor:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Vencimento:"}),Object(v.jsx)("input",{type:"date",id:"vencimento",required:!0,onChange:function(t){e.setState({vencimento:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group d-none",id:"responsavel",children:[Object(v.jsx)("label",{children:"Respons\xe1vel:"}),Object(v.jsxs)("select",{onChange:function(t){e.setState({responsavel:t.target.value})},children:[Object(v.jsx)("option",{defaultValue:!0,hidden:!0,value:"",children:"Selecione..."}),t]})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",className:"btn",value:"Salvar"})})]})]}),this.state.show]})}}]),a}(n.Component),oe=Object(g.b)((function(e){return{login:e.login,user:e.user.user}}),(function(e){return{getUser:function(t){e($(t))},addBill:function(t){e(T(t))}}}))(ne),se=a.p+"static/media/Logo.d13ebbd0.png",ie=a(34),re=a(49),ce=Object(w.b)({name:"login",initialState:{user_id:"",home_id:""},reducers:{setUser:function(e,t){e.user_id=t.payload},setHome:function(e,t){e.home_id=t.payload},removeUser:function(e,t){e.user_id=""},removeHome:function(e,t){e.home_id=""}}}),le=ce.actions,de=le.setUser,ue=le.setHome,pe=le.removeHome,je=le.removeUser,he=ce.reducer;var be=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"navbar",children:[""!==this.props.login.home_id&&null!==this.props.login.home_id?Object(v.jsxs)("label",{className:"casa-btn",children:[Object(v.jsx)("strong",{children:"C\xf3digo da casa:"}),Object(v.jsx)("br",{}),this.props.login.home_id]}):"",Object(v.jsx)("img",{src:se,alt:"Logo marca com uma casa e o texto casa compartilhada",className:"logo"}),Object(v.jsxs)("div",{className:"btn-bar navbar-btn",children:[""!==this.props.login.home_id&&null!==this.props.login.home_id?Object(v.jsx)(u.b,{to:"/config",className:"btn-clear",children:Object(v.jsx)(re.a,{})}):"",Object(v.jsx)("button",{className:"btn-clear",onClick:function(){e.props.removeUser(),e.props.removeHome()},children:Object(v.jsx)(ie.a,{})})]})]})}}]),a}(n.Component),me=Object(g.b)((function(e){return{login:e.login}}),(function(e){return{removeUser:function(){e(je())},removeHome:function(){e(pe())}}}))(be),fe=Object(w.b)({name:"rule",initialState:{rule:[]},reducers:{setRule:function(e,t){e.rule=t.payload},addRule:function(e,t){k.a.post(N+"/rule/",t.payload).then((function(e){console.log(e.status),window.location.reload()}))},removeRule:function(e,t){k.a.delete(N+"/rule/"+t.payload.rule_id,{data:{creator_id:t.payload.user_id}}).then((function(e){console.log(e.status),window.location.reload()}))},updateRule:function(e,t){console.log(t.payload),k.a.put(N+"/rule/"+t.payload.rule_id,{description:t.payload.description,creator_id:t.payload.creator_id}).then((function(e){console.log(e.status),window.location.reload()}))}}}),ve=fe.actions,Oe=ve.setRule,ge=ve.addRule,xe=ve.removeRule,ye=ve.updateRule,_e=fe.reducer;var we=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).salvar=function(e){e.preventDefault();var t={home_id:n.props.login.home_id,creator_id:n.props.login.user_id,description:n.state.regra};n.props.addRule(t),h()("#addRule").addClass("d-none")},n.update=function(e){e.preventDefault();var t={creator_id:n.props.login.user_id,description:n.state.regraUpdate,rule_id:n.state.idUpdate};n.props.updateRule(t),h()("#"+n.state.idUpdate).addClass("d-none"),n.setState({idUpdate:"",regraUpdate:""})},n.deleteRule=function(e){window.confirm("Deseja realmente apagar?")&&n.props.removeRule({user_id:n.props.login.user_id,rule_id:e})},n.state={regra:"",regraUpdate:"",idUpdate:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getRule(this.props.login.home_id),this.props.getUser(this.props.login.home_id)}},{key:"render",value:function(){var e=this,t=[],a=[];return this.props.rule.length>0&&this.props.user.length>0&&this.props.rule.map((function(n,o){var s="";return e.props.user.map((function(i){i.id===n.creator_id&&(s=i.username,t.push(Object(v.jsxs)("div",{className:"postit",children:[Object(v.jsxs)("label",{className:"username",children:["@",s]}),Object(v.jsx)("div",{children:Object(v.jsx)("label",{className:"text",children:n.description})}),n.creator_id===e.props.login.user_id?Object(v.jsx)("button",{className:"btn-clear",onClick:function(){h()("#"+n.id).removeClass("d-none")},children:Object(v.jsx)(b.c,{})}):"",n.creator_id===e.props.login.user_id?Object(v.jsx)("button",{className:"btn-clear",onClick:function(){e.deleteRule(n.id)},children:Object(v.jsx)(b.b,{})}):""]},o)),a.push(Object(v.jsxs)(K,{id:n.id,children:[Object(v.jsx)("h2",{children:"Regras"}),Object(v.jsxs)("form",{onSubmit:e.update,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Descri\xe7\xe3o:"}),Object(v.jsx)("textarea",{rows:"5",defaultValue:n.description,onChange:function(t){e.setState({regraUpdate:t.target.value,idUpdate:n.id})}})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",value:"Salvar",className:"btn w-fill"})})]})]},o)))}))})),Object(v.jsxs)("div",{className:"w-full btn-bar evenly padding",children:[a,Object(v.jsx)("div",{className:"postit-none",children:Object(v.jsx)("button",{className:"btn-clear add",onClick:function(){h()("#addRule").removeClass("d-none")},children:Object(v.jsx)(b.a,{})})}),t,Object(v.jsxs)(K,{id:"addRule",children:[Object(v.jsx)("h2",{children:"Regras"}),Object(v.jsxs)("form",{onSubmit:this.salvar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Descri\xe7\xe3o:"}),Object(v.jsx)("textarea",{placeholder:"Adicione a regra",rows:"5",required:!0,onChange:function(t){e.setState({regra:t.target.value})}})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",value:"Salvar",className:"btn w-fill"})})]})]})]})}}]),a}(n.Component),Ce=Object(g.b)((function(e){return{rule:e.rule.rule,user:e.user.user,login:e.login}}),(function(e){return{addRule:function(t){e(ge(t))},getRule:function(t){e(function(e){return function(){var t=Object(_.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get(N+"/rule/?home_id="+e).then((function(e){a(Oe(e.data))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},getUser:function(t){e($(t))},removeRule:function(t){e(xe(t))},updateRule:function(t){e(ye(t))}}}))(we),ke=Object(w.b)({name:"shopping",initialState:{toBuy:[],buyed:[]},reducers:{setShop:function(e,t){e.toBuy=t.payload},setBuyed:function(e,t){e.buyed=t.payload},addShop:function(e,t){k.a.post(N+"/purchaseitem/",t.payload).then((function(e){console.log(e.status),window.location.reload()}))},deleteShop:function(e,t){k.a.delete(N+"/purchaseitem/"+t.payload.item_id,{data:{creator_id:t.payload.user_id}}).then((function(e){console.log(e.status),window.location.reload()}))},buyItem:function(e,t){k.a.put(N+"/purchaseitem/"+t.payload.item_id+"?buyer_id="+t.payload.user_id).then((function(e){console.log(e.status),window.location.reload()}))},editItem:function(e,t){k.a.put(N+"/purchaseitem/"+t.payload.item_id,{item:t.payload.item,status:t.payload.status,creator_id:t.payload.creator_id}).then((function(e){console.log(e.status),window.location.reload()}))}}}),Ne=ke.reducer,Se=ke.actions,De=Se.setShop,Ue=Se.setBuyed,qe=Se.addShop,Be=Se.deleteShop,Me=Se.buyItem,Te=Se.editItem;var He=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"todo padding",children:[this.props.selecionar?Object(v.jsx)("input",{type:"checkbox",id:this.props.value,onChange:this.props.select}):"",Object(v.jsx)("label",{htmlFor:this.props.value,children:this.props.text}),Object(v.jsxs)("div",{className:"actions",children:[this.props.edit?Object(v.jsx)("button",{className:"btn-clear",onClick:function(){h()("#"+e.props.modal).removeClass("d-none")},children:Object(v.jsx)(b.c,{})}):"",this.props.remo?Object(v.jsx)("button",{className:"btn-clear",onClick:this.props.remove,children:Object(v.jsx)(b.b,{})}):""]})]})}}]),a}(n.Component),Ve=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).apagar=function(e){window.confirm("Deseja realmente apagar?")&&n.props.deleteShop({item_id:e,user_id:n.props.login.user_id})},n.comprar=function(e){window.confirm("Podemos passar para os itens comprados?")&&n.props.buyItem({item_id:e,user_id:n.props.login.user_id})},n.atualizar=function(e){e.preventDefault();var t={item_id:n.state.idUpdate,item:n.state.item,status:n.state.status,creator_id:n.props.login.user_id};n.props.editItem(t),h()("#"+n.state.idUpdate).addClass("d-none"),n.setState({item_id:"",item:"",status:""})},n.state={item:"",idUpdate:"",status:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getShop(this.props.login.home_id)}},{key:"render",value:function(){var e=this,t=[],a=[];return this.props.toBuy!==[]&&this.props.toBuy.map((function(n,o){return a.push(Object(v.jsxs)(K,{id:n.id,children:[Object(v.jsx)("h2",{children:"Comprar"}),Object(v.jsxs)("form",{onSubmit:e.atualizar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Item:"}),Object(v.jsx)("input",{type:"text",defaultValue:n.item,onChange:function(t){e.setState({item:t.target.value,idUpdate:n.id,status:n.status})}})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",className:"btn",value:"Salvar"})})]})]},o)),t.push(Object(v.jsx)(He,{text:n.item,modal:n.id,value:o,edit:n.creator_id===e.props.login.user_id,select:function(){e.comprar(n.id)},selecionar:!0,remo:n.creator_id===e.props.login.user_id,remove:function(){e.apagar(n.id)}},o))})),Object(v.jsxs)("div",{children:[a,t]})}}]),a}(n.Component),Re=Object(g.b)((function(e){return{login:e.login,toBuy:e.shopping.toBuy}}),(function(e){return{deleteShop:function(t){e(Be(t))},getShop:function(t){var a;e((a=t,function(){var e=Object(_.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/purchaseitem/?status=false&home_id="+a).then((function(e){t(De(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},buyItem:function(t){e(Me(t))},editItem:function(t){e(Te(t))}}}))(Ve),Pe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).apagar=function(t){e.props.deleteShop({user_id:e.props.login.user_id,item_id:t})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getBuyed(this.props.login.home_id)}},{key:"render",value:function(){var e=[];return this.props.buyed!==[]&&this.props.buyed.map((function(t,a){return e.push(Object(v.jsx)(He,{text:t.item,value:a},a))})),Object(v.jsx)("div",{children:e})}}]),a}(n.Component),ze=Object(g.b)((function(e){return{login:e.login,buyed:e.shopping.buyed}}),(function(e){return{deleteShop:function(t){e(Be(t))},getBuyed:function(t){var a;e((a=t,function(){var e=Object(_.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/purchaseitem/?status=true&home_id="+a).then((function(e){t(Ue(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}}))(Pe),Ie=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).changeBuy=function(e){"toBuy"===e.target.id&&(h()("#toBuy").addClass("btn-active"),h()("#buyed").removeClass("btn-active"),n.setState({show:Object(v.jsx)(Re,{})})),"buyed"===e.target.id&&(h()("#buyed").addClass("btn-active"),h()("#toBuy").removeClass("btn-active"),n.setState({show:Object(v.jsx)(ze,{})}))},n.salvar=function(e){var t={item:n.state.item,creator_id:n.props.login.user_id,home_id:n.props.login.home_id};e.preventDefault(),n.props.addShop(t),h()("#addShopping").addClass("d-none")},n.state={show:Object(v.jsx)(Re,{}),item:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"w-full padding",children:[Object(v.jsxs)("div",{className:"btn-bar w-full",children:[Object(v.jsx)("button",{className:"btn-clear add",onClick:function(){h()("#addShopping").removeClass("d-none")},children:Object(v.jsx)(b.a,{})}),Object(v.jsx)("button",{className:"btn-outline btn-flex btn-active",id:"toBuy",onClick:this.changeBuy,children:"Para comprar"}),Object(v.jsx)("button",{className:"btn-outline btn-flex",id:"buyed",onClick:this.changeBuy,children:"Comprados"})]}),Object(v.jsxs)(K,{id:"addShopping",children:[Object(v.jsx)("h2",{children:"Comprar"}),Object(v.jsxs)("form",{onSubmit:this.salvar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Item:"}),Object(v.jsx)("input",{type:"text",id:"task",required:!0,onChange:function(t){e.setState({item:t.target.value})}})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",className:"btn",value:"Salvar"})})]})]}),this.state.show]})}}]),a}(n.Component),Ae=Object(g.b)((function(e){return{login:e.login}}),(function(e){return{addShop:function(t){e(qe(t))}}}))(Ie);function Fe(){return Object(v.jsxs)("div",{className:"sidebar",children:[Object(v.jsx)(u.c,{to:"/",exact:!0,children:Object(v.jsx)("label",{children:"Regras"})}),Object(v.jsx)(u.c,{to:"/todo",children:Object(v.jsx)("label",{children:"To-Do"})}),Object(v.jsx)(u.c,{to:"/tobuy",children:Object(v.jsx)("label",{children:"Lista de Compras"})}),Object(v.jsx)(u.c,{to:"/bill",children:Object(v.jsx)("label",{children:"Contas"})})]})}var Ee=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"todo padding",children:[this.props.check?"":Object(v.jsx)("input",{type:"checkbox",id:this.props.value}),Object(v.jsxs)("label",{htmlFor:this.props.value,children:[this.props.text,this.props.user?Object(v.jsxs)("label",{children:[Object(v.jsx)("br",{}),"@",this.props.user," - ",Object(m.a)(Object(f.a)(new Date(this.props.create)),"dd/MM/yyyy")]}):""]}),Object(v.jsxs)("div",{className:"actions",children:[this.props.edit?Object(v.jsx)("button",{className:"btn-clear",onClick:this.props.edited,children:Object(v.jsx)(b.c,{})}):"",this.props.edit?Object(v.jsx)("button",{className:"btn-clear",onClick:this.props.delete,children:Object(v.jsx)(b.b,{})}):""]})]})}}]),a}(n.Component),We=Object(w.b)({name:"todo",initialState:{daily:[],weekly:[],monthly:[],does:[]},reducers:{setDaily:function(e,t){e.daily=t.payload},setWeekly:function(e,t){e.weekly=t.payload},setMonthly:function(e,t){e.monthly=t.payload},setDoes:function(e,t){e.does=t.payload},addToDo:function(e,t){k.a.post(N+"/todo/",t.payload).then((function(e){console.log(e.status),window.location.reload()}))},removeToDo:function(e,t){k.a.delete(N+"/todo/"+t.payload.todo_id,{data:{creator_id:t.payload.user_id}}).then((function(e){console.log(e.status),window.location.reload()}))},editToDo:function(e,t){k.a.put(N+"/todo/"+t.payload.todo_id,{task:t.payload.task,frequency:t.payload.frequency,day_of_week:t.payload.day_of_week,day_of_month:t.payload.day_of_month,creator_id:t.payload.creator_id}).then((function(e){console.log(e.status),window.location.reload()}))}}}),Qe=We.reducer,Le=We.actions,Je=Le.setDaily,$e=Le.setWeekly,Ge=Le.setMonthly,Ke=Le.addToDo,Xe=Le.removeToDo,Ye=Le.editToDo,Ze=Le.setDoes;var et=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={todo_id:"",task:"",frequency:"",day_of_week:"",day_of_month:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getDaily(this.props.login.home_id)}},{key:"delete",value:function(e){window.confirm("Deseja realmente apagar?")&&this.props.removeToDo({user_id:this.props.login.user_id,todo_id:e})}},{key:"atualizar",value:function(e){e.preventDefault();var t={todo_id:this.state.todo_id,task:this.state.task,frequency:this.state.frequency,day_of_week:this.state.day_of_week,day_of_month:this.state.day_of_month,creator_id:this.props.login.user_id};this.props.editToDo(t),h()("#"+this.state.todo_id).addClass("d-none"),this.setState({todo_id:"",task:"",frequency:"",day_of_week:"",day_of_month:""})}},{key:"render",value:function(){var e=this,t=[],a=[];return void 0!==this.props.daily&&this.props.daily.map((function(n,o){return n.map((function(n){t.push(Object(v.jsx)(Ee,{text:n.task,value:o,edited:function(){h()("#"+n.id).removeClass("d-none")},edit:n.creator_id===e.props.login.user_id,delete:function(){return e.delete(n.id)}},o)),a.push(Object(v.jsxs)(K,{id:n.id,children:[Object(v.jsx)("h2",{children:"To-Do"}),Object(v.jsxs)("form",{onSubmit:function(t){return e.atualizar(t)},children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Tarefa:"}),Object(v.jsx)("input",{type:"text",defaultValue:n.task,onChange:function(t){e.setState({task:t.target.value,todo_id:n.id,frequency:n.frequency,day_of_week:n.day_of_week,day_of_month:n.day_of_month})}})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",className:"btn",value:"Salvar"})})]})]},o))}))})),Object(v.jsxs)("div",{className:"w-full",children:[a,t]})}}]),a}(n.Component),tt=Object(g.b)((function(e){return{login:e.login,daily:e.todo.daily.daily}}),(function(e){return{getDaily:function(t){var a;e((a=t,function(){var e=Object(_.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/todo/"+a+"?frequency=daily").then((function(e){t(Je(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},removeToDo:function(t){e(Xe(t))},editToDo:function(t){e(Ye(t))}}}))(et),at=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getDoes(this.props.login.home_id)}},{key:"render",value:function(){var e=[];return this.props.does.length>0&&this.props.does.map((function(t,a){return e.push(Object(v.jsx)(Ee,{text:t.task,user:t.username,create:t.created_at,check:!0},a))})),Object(v.jsx)("div",{className:"w-full",children:e})}}]),a}(n.Component),nt=Object(g.b)((function(e){return{login:e.login,does:e.todo.does}}),(function(e){return{getDoes:function(t){var a;e((a=t,function(){var e=Object(_.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/todo/"+a+"?does=true").then((function(e){t(Ze(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}}))(at),ot=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={todo_id:"",task:"",frequency:"",day_of_week:"",day_of_month:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getMonthly(this.props.login.home_id)}},{key:"delete",value:function(e){window.confirm("Deseja realmente apagar?")&&this.props.removeToDo({user_id:this.props.login.user_id,todo_id:e})}},{key:"atualizar",value:function(e){e.preventDefault();var t={todo_id:this.state.todo_id,task:this.state.task,frequency:this.state.frequency,day_of_week:this.state.day_of_week,day_of_month:this.state.day_of_month,creator_id:this.props.login.user_id};this.props.editToDo(t),h()("#"+this.state.todo_id).addClass("d-none"),this.setState({todo_id:"",task:"",frequency:"",day_of_week:"",day_of_month:""})}},{key:"render",value:function(){var e=this,t=[],a=[];return void 0!==this.props.monthly&&this.props.monthly.map((function(n,o){return n.map((function(n){t.push(Object(v.jsx)(Ee,{text:n.task,value:o,edit:n.creator_id===e.props.login.user_id,edited:function(){h()("#"+n.id).removeClass("d-none")},delete:function(){return e.delete(n.id)}},o)),a.push(Object(v.jsxs)(K,{id:n.id,children:[Object(v.jsx)("h2",{children:"To-Do"}),Object(v.jsxs)("form",{onSubmit:function(t){return e.atualizar(t)},children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Tarefa:"}),Object(v.jsx)("input",{type:"text",defaultValue:n.task,onChange:function(t){e.setState({task:t.target.value,todo_id:n.id,frequency:n.frequency,day_of_week:n.day_of_week,day_of_month:n.day_of_month})}})]}),Object(v.jsxs)("div",{className:"form-group",id:"monthly",children:[Object(v.jsx)("label",{children:"Dia do m\xeas:"}),Object(v.jsx)("input",{type:"number",min:"1",max:"31",defaultValue:n.day_of_month,onChange:function(t){e.setState({day_of_month:t.target.value})}})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",className:"btn",value:"Salvar"})})]})]},o))}))})),Object(v.jsxs)("div",{className:"w-full",children:[a,t]})}}]),a}(n.Component),st=Object(g.b)((function(e){return{login:e.login,monthly:e.todo.monthly.monthly}}),(function(e){return{getMonthly:function(t){var a;e((a=t,function(){var e=Object(_.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/todo/"+a+"?frequency=monthly").then((function(e){t(Ge(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},editToDo:function(t){e(Ye(t))}}}))(ot),it=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={todo_id:"",task:"",frequency:"",day_of_week:"",day_of_month:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getWeekly(this.props.login.home_id)}},{key:"delete",value:function(e){window.confirm("Deseja realmente apagar?")&&this.props.removeToDo({user_id:this.props.login.user_id,todo_id:e})}},{key:"atualizar",value:function(e){e.preventDefault();var t={todo_id:this.state.todo_id,task:this.state.task,frequency:this.state.frequency,day_of_week:this.state.day_of_week,day_of_month:this.state.day_of_month,creator_id:this.props.login.user_id};this.props.editToDo(t),h()("#"+this.state.todo_id).addClass("d-none"),this.setState({todo_id:"",task:"",frequency:"",day_of_week:"",day_of_month:""})}},{key:"render",value:function(){var e=this,t=[],a=[];return void 0!==this.props.weekly&&this.props.weekly.map((function(n,o){return n.map((function(n){t.push(Object(v.jsx)(Ee,{text:n.task,value:o,edit:n.creator_id===e.props.login.user_id,edited:function(){h()("#"+n.id).removeClass("d-none")},delete:function(){return e.delete(n.id)}},o)),a.push(Object(v.jsxs)(K,{id:n.id,children:[Object(v.jsx)("h2",{children:"To-Do"}),Object(v.jsxs)("form",{onSubmit:function(t){return e.atualizar(t)},children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Tarefa:"}),Object(v.jsx)("input",{type:"text",defaultValue:n.task,onChange:function(t){e.setState({task:t.target.value,todo_id:n.id,frequency:n.frequency,day_of_week:n.day_of_week,day_of_month:n.day_of_month})}})]}),Object(v.jsxs)("div",{className:"form-group",id:"weekly",children:[Object(v.jsx)("label",{children:"Dia da semana:"}),Object(v.jsxs)("select",{id:"dayOfWeek",onChange:function(t){e.setState({day_of_week:t.target.value})},children:[Object(v.jsx)("option",{defaultValue:!0,value:"",hidden:!0,children:n.day_of_week}),Object(v.jsx)("option",{value:"domingo",children:"Domingo"}),Object(v.jsx)("option",{value:"segunda-feira",children:"Segunda-feira"}),Object(v.jsx)("option",{value:"terca-feira",children:"Ter\xe7a-feira"}),Object(v.jsx)("option",{value:"quarta-feira",children:"Quarta-feira"}),Object(v.jsx)("option",{value:"quinta-feira",children:"Quinta-feira"}),Object(v.jsx)("option",{value:"sexta-feira",children:"Sexta-feira"}),Object(v.jsx)("option",{value:"sabado",children:"S\xe1bado"})]})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",className:"btn",value:"Salvar"})})]})]},o))}))})),Object(v.jsxs)("div",{className:"w-full",children:[a,t]})}}]),a}(n.Component),rt=Object(g.b)((function(e){return{login:e.login,weekly:e.todo.weekly.weekly}}),(function(e){return{getWeekly:function(t){var a;e((a=t,function(){var e=Object(_.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/todo/"+a+"?frequency=weekly").then((function(e){t($e(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},editToDo:function(t){e(Ye(t))}}}))(it),ct=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).changeTodo=function(e){"todoDiario"===e.target.id&&(h()("#todoDiario").addClass(" btn-active"),h()("#todoSemanal").removeClass(" btn-active"),h()("#todoMensal").removeClass(" btn-active"),h()("#todoFeito").removeClass(" btn-active"),n.setState({show:Object(v.jsx)(tt,{})})),"todoSemanal"===e.target.id&&(h()("#todoDiario").removeClass(" btn-active"),h()("#todoSemanal").addClass(" btn-active"),h()("#todoMensal").removeClass(" btn-active"),h()("#todoFeito").removeClass(" btn-active"),n.setState({show:Object(v.jsx)(rt,{})})),"todoMensal"===e.target.id&&(h()("#todoDiario").removeClass(" btn-active"),h()("#todoSemanal").removeClass(" btn-active"),h()("#todoMensal").addClass(" btn-active"),h()("#todoFeito").removeClass(" btn-active"),n.setState({show:Object(v.jsx)(st,{})})),"todoFeito"===e.target.id&&(h()("#todoDiario").removeClass(" btn-active"),h()("#todoSemanal").removeClass(" btn-active"),h()("#todoMensal").removeClass(" btn-active"),h()("#todoFeito").addClass(" btn-active"),n.setState({show:Object(v.jsx)(nt,{})}))},n.addTask=function(e){e.preventDefault();var t={task:n.state.tarefa,frequency:n.state.frequencia,day_of_week:n.state.dayOfWeek,day_of_month:n.state.dayOfMonth,creator_id:n.props.login.user_id,home_id:n.props.login.home_id};n.props.addTodo(t),h()("#addToDoDay").addClass("d-none")},n.state={show:Object(v.jsx)(tt,{}),tarefa:"",frequencia:"",dayOfWeek:null,dayOfMonth:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"w-full padding",children:[Object(v.jsxs)("div",{className:"btn-bar w-full",children:[Object(v.jsx)("button",{className:"btn-clear add",onClick:function(){h()("#addToDoDay").removeClass("d-none")},children:Object(v.jsx)(b.a,{})}),Object(v.jsx)("button",{className:"btn-outline btn-flex btn-active",id:"todoDiario",onClick:this.changeTodo,children:"Di\xe1rio"}),Object(v.jsx)("button",{className:"btn-outline btn-flex",id:"todoSemanal",onClick:this.changeTodo,children:"Semanal"}),Object(v.jsx)("button",{className:"btn-outline btn-flex",id:"todoMensal",onClick:this.changeTodo,children:"Mensal"}),Object(v.jsx)("button",{className:"btn-outline btn-flex",id:"todoFeito",onClick:this.changeTodo,children:"Feitos"})]}),Object(v.jsxs)(K,{id:"addToDoDay",children:[Object(v.jsx)("h2",{children:"To-Do"}),Object(v.jsxs)("form",{onSubmit:this.addTask,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Tarefa:"}),Object(v.jsx)("input",{type:"text",id:"task",required:!0,onChange:function(t){e.setState({tarefa:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Frequ\xeancia:"}),Object(v.jsxs)("select",{required:!0,id:"frequencia",onChange:function(t){e.setState({frequencia:t.target.value}),h()("#"+t.target.value).removeClass("d-none")},children:[Object(v.jsx)("option",{defaultValue:!0,value:"",hidden:!0,children:"Selecione..."}),Object(v.jsx)("option",{value:"daily",children:"Diario"}),Object(v.jsx)("option",{value:"weekly",children:"Semanal"}),Object(v.jsx)("option",{value:"monthly",children:"Mensal"})]})]}),Object(v.jsxs)("div",{className:"form-group d-none",id:"weekly",children:[Object(v.jsx)("label",{children:"Dia da semana:"}),Object(v.jsxs)("select",{id:"dayOfWeek",onChange:function(t){e.setState({dayOfWeek:t.target.value})},children:[Object(v.jsx)("option",{defaultValue:!0,value:"",hidden:!0,children:"Selecione..."}),"domingo, segunda-feira, terca-feira, quarta-feira, quinta-feira, sexta-feira, sabado",Object(v.jsx)("option",{value:"domingo",children:"Domingo"}),Object(v.jsx)("option",{value:"segunda-feira",children:"Segunda-feira"}),Object(v.jsx)("option",{value:"terca-feira",children:"Ter\xe7a-feira"}),Object(v.jsx)("option",{value:"quarta-feira",children:"Quarta-feira"}),Object(v.jsx)("option",{value:"quinta-feira",children:"Quinta-feira"}),Object(v.jsx)("option",{value:"sexta-feira",children:"Sexta-feira"}),Object(v.jsx)("option",{value:"sabado",children:"S\xe1bado"})]})]}),Object(v.jsxs)("div",{className:"form-group d-none",id:"monthly",children:[Object(v.jsx)("label",{children:"Dia do m\xeas:"}),Object(v.jsx)("input",{type:"number",min:"1",max:"31",onChange:function(t){e.setState({dayOfMonth:t.target.value})}})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"submit",className:"btn",value:"Salvar"})})]})]}),this.state.show]})}}]),a}(n.Component),lt=Object(g.b)((function(e){return{login:e.login}}),(function(e){return{addTodo:function(t){e(Ke(t))}}}))(ct),dt=(a(81),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).logar=function(e){e.preventDefault();var t={email:n.state.usuario,password:n.state.senha};n.props.loginUser(t)},n.cadastro=function(){h()("#login").addClass("d-none"),h()("#cadastro").removeClass("d-none")},n.cadastrar=function(e){e.preventDefault();var t={username:n.state.usuarioCadastro,email:n.state.emailCadastro,password:n.state.senhaCadastro};n.props.addUser(t)},n.state={usuario:"",senha:"",show:"",usuarioCadastro:"",senhaCadastro:"",emailCadastro:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllUser()}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"login body",children:[Object(v.jsxs)("div",{className:"form padding",id:"login",children:[Object(v.jsx)("h2",{children:"Login"}),Object(v.jsxs)("form",{onSubmit:this.logar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"E-mail:"}),Object(v.jsx)("input",{type:"text",required:!0,onChange:function(t){e.setState({usuario:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Senha:"}),Object(v.jsx)("input",{type:"password",required:!0,onChange:function(t){e.setState({senha:t.target.value})}})]}),Object(v.jsx)("input",{type:"submit",className:"btn w-full form-group",value:"Entrar"})]}),Object(v.jsx)("hr",{className:"form-group"}),Object(v.jsx)("input",{type:"submit",className:"btn-outline w-full form-group",value:"Criar conta",onClick:function(){e.cadastro()}})]}),Object(v.jsxs)("div",{className:"form padding d-none",id:"cadastro",children:[Object(v.jsx)("h2",{children:"Criar conta"}),Object(v.jsxs)("form",{onSubmit:this.cadastrar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Usu\xe1rio*:"}),Object(v.jsx)("input",{type:"text",required:!0,onChange:function(t){e.setState({usuarioCadastro:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Email*:"}),Object(v.jsx)("input",{type:"email",required:!0,onChange:function(t){e.setState({emailCadastro:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Senha*:"}),Object(v.jsx)("input",{type:"password",required:!0,onChange:function(t){e.setState({senhaCadastro:t.target.value})}})]}),Object(v.jsx)("input",{type:"submit",className:"btn w-full form-group",value:"Cadastrar"})]})]})]})}}]),a}(n.Component)),ut=Object(g.b)((function(e){return{allUser:e.user.allUser}}),(function(e){return{getAllUser:function(){e(G())},addUser:function(t){e(W(t))},setUser:function(t){e(de(t))},loginUser:function(t){e(function(e){return function(){var t=Object(_.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k.a.post(N+"/login/",e).then((function(e){console.log(e),a(de(e.data.id)),a(ue(e.data.home_id)),window.location.reload()}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(dt),pt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).logar=function(e){var t={username:"",email:"",home_id:n.state.codigo};e.preventDefault(),n.props.allUser!==[]&&n.props.allUser.map((function(e){e.id===n.props.login.user_id&&(t.username=e.username,t.email=e.email)})),n.props.addHomeInUser({user_id:n.props.login.user_id,user:t}),n.props.setHome(n.state.codigo)},n.cadastro=function(){h()("#criar").addClass("d-none"),h()("#entrar").removeClass("d-none")},n.cadastrar=function(e){e.preventDefault();var t={name:n.state.nome,creator_id:n.props.login.user_id};n.props.addHome(t)},n.state={nome:"",codigo:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllUser()}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"login body",children:[Object(v.jsxs)("div",{className:"form padding",id:"criar",children:[Object(v.jsx)("h2",{children:"Criar uma casa"}),Object(v.jsxs)("form",{onSubmit:this.cadastrar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Nome*:"}),Object(v.jsx)("input",{type:"text",required:!0,onChange:function(t){e.setState({nome:t.target.value})}})]}),Object(v.jsx)("input",{type:"submit",className:"btn w-full form-group",value:"Cadastrar"})]}),Object(v.jsx)("hr",{className:"form-group"}),Object(v.jsx)("input",{type:"submit",className:"btn-outline w-full form-group",value:"Entrar em uma casa",onClick:function(){e.cadastro()}})]}),Object(v.jsxs)("div",{className:"form padding d-none",id:"entrar",children:[Object(v.jsx)("h2",{children:"Entrar em uma casa"}),Object(v.jsxs)("form",{onSubmit:this.logar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"C\xf3digo*:"}),Object(v.jsx)("input",{type:"text",required:!0,onChange:function(t){e.setState({codigo:t.target.value})}})]}),Object(v.jsx)("input",{type:"submit",className:"btn w-full form-group",value:"Entrar"})]})]})]})}}]),a}(n.Component),jt=Object(g.b)((function(e){return{login:e.login,allUser:e.user.allUser}}),(function(e){return{addHome:function(t){var a;e((a=t,function(){var e=Object(_.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.post(N+"/home/",a).then((function(e){t(ue(e.data[0].id)),window.location.reload()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},getAllUser:function(){e(G())},setHome:function(t){e(ue(t))},addHomeInUser:function(t){e(Q(t))}}}))(pt),ht=Object(w.b)({name:"home",initialState:{home:[]},reducers:{setHome:function(e,t){e.home=t.payload},removeHome:function(e,t){e.home=""},updateHome:function(e,t){k.a.put(N+"/home/"+t.payload.home_id,t.payload.home).then((function(e){console.log(e)}))},deleteHome:function(e,t){k.a.delete(N+"/home/"+t.payload.home_id,{data:{creator_id:t.payload.creator_id}}).then((function(e){console.log(e),window.location.reload()}))}}}),bt=ht.actions,mt=bt.setHome,ft=(bt.removeHome,bt.updateHome),vt=bt.deleteHome,Ot=ht.reducer;var gt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).cadastrar=function(e){e.preventDefault();var t={name:n.state.name,creator_id:n.props.login.user_id};n.props.updateHome({home_id:n.props.login.home_id,home:t}),n.props.removeHome(),n.props.removeUser()},n.excluirCasa=function(){window.confirm("Deseja realmente apagar?")&&n.props.deleteHome({home_id:n.props.login.home_id,creator_id:n.props.login.user_id}),n.props.removeHome(),n.props.removeUser()},n.excluirConta=function(){window.confirm("Deseja realmente apagar?")&&n.props.deleteUser(n.props.login.user_id),n.props.removeHome(),n.props.removeUser()},n.atualizar=function(e){e.preventDefault();var t={username:n.state.oldUser,email:n.state.email,new_password:n.state.password,home_id:n.props.login.home_id};n.props.addHomeInUser({user_id:n.props.login.user_id,user:t})},n.sair=function(e,t){var a={username:t,email:e,home_id:null};n.props.addHomeInUser({user_id:n.props.login.user_id,user:a}),n.props.removeHome(),n.props.removeUser()},n.state={user:[],oldUser:"",email:"",password:"",name:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllUsers(),this.props.getHome(this.props.login.home_id),this.props.getUser(this.props.login.home_id)}},{key:"render",value:function(){var e=this,t={},a={},n=[];return this.props.users!==[]&&this.props.users.map((function(a){a.id===e.props.login.user_id&&(t=a)})),this.props.home!==[]&&(a=this.props.home),this.props.homeUser&&this.props.homeUser.map((function(e,t){return n.push(Object(v.jsx)("div",{className:"todo padding",children:Object(v.jsxs)("label",{children:["@",e.username]})},t))})),Object(v.jsxs)("div",{className:"w-full padding d-flex",children:[Object(v.jsxs)("div",{className:"form padding config",id:"criar",children:[Object(v.jsx)("h2",{children:"Casa"}),Object(v.jsx)("div",{className:"form-group label-center",children:Object(v.jsxs)("label",{children:["C\xf3digo da Casa: ",Object(v.jsx)("br",{})," ",a.id]})}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Moradores:"}),n]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("form",{onSubmit:this.cadastrar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Nome:"}),Object(v.jsx)("input",{type:"text",defaultValue:a.name,onChange:function(t){e.setState({name:t.target.value})}})]}),a.creator_id===t.id?Object(v.jsx)("input",{type:"submit",className:"btn w-full form-group",value:"Atualizar casa"}):""]}),Object(v.jsx)("hr",{className:"form-group"}),a.creator_id===this.props.login.user_id?Object(v.jsx)("input",{type:"submit",className:"btn-outline w-full form-group",value:"Excluir casa",onClick:function(){e.excluirCasa()}}):Object(v.jsx)("input",{type:"submit",className:"btn-outline w-full form-group",value:"Sair da casa",onClick:function(){e.sair(t.email,t.username)}})]}),Object(v.jsxs)("div",{className:"form padding config",id:"cadastro",children:[Object(v.jsx)("h2",{children:"Voc\xea"}),Object(v.jsxs)("form",{onSubmit:this.atualizar,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Usu\xe1rio:"}),Object(v.jsx)("input",{type:"text",defaultValue:t.username,onChange:function(a){e.setState({oldUser:a.target.value,email:t.email})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Email:"}),Object(v.jsx)("input",{type:"email",disabled:!0,defaultValue:t.email,onChange:function(t){e.setState({email:t.target.value})}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Nova senha:"}),Object(v.jsx)("input",{type:"password",required:!0,onChange:function(t){e.setState({password:t.target.value})}})]}),Object(v.jsx)("input",{type:"submit",className:"btn w-full form-group",value:"Atualizar"})]}),Object(v.jsx)("hr",{className:"form-group"}),Object(v.jsx)("input",{type:"submit",className:"btn-outline w-full form-group",value:"Excluir conta",onClick:function(){e.excluirConta()}})]})]})}}]),a}(n.Component),xt=Object(g.b)((function(e){return{login:e.login,users:e.user.allUser,home:e.home.home,homeUser:e.user.user}}),(function(e){return{getAllUsers:function(){e(G())},getHome:function(t){e(function(e){return function(){var t=Object(_.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k.a.get(N+"/home/"+e).then((function(e){a(mt(e.data))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},getUser:function(t){e($(t))},addHomeInUser:function(t){e(Q(t))},updateHome:function(t){e(ft(t))},deleteUser:function(t){e(L(t))},deleteHome:function(t){e(vt(t))},removeUser:function(){e(je())},removeHome:function(){e(pe())}}}))(gt),yt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).routes=function(){return Object(v.jsxs)(u.a,{basename:"/casacompartilhada",children:[Object(v.jsx)(me,{}),Object(v.jsxs)("div",{className:"SideAndBody",children:[Object(v.jsx)(Fe,{}),Object(v.jsxs)("div",{className:"body",children:[Object(v.jsx)(p.a,{path:"/",exact:!0,children:Object(v.jsx)(Ce,{})}),Object(v.jsx)(p.a,{path:"/todo",children:Object(v.jsx)(lt,{})}),Object(v.jsx)(p.a,{path:"/tobuy",children:Object(v.jsx)(Ae,{})}),Object(v.jsx)(p.a,{path:"/bill",children:Object(v.jsx)(oe,{})}),Object(v.jsx)(p.a,{path:"/config",children:Object(v.jsx)(xt,{})})]})]})]})},n.casa=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(me,{}),Object(v.jsx)(jt,{})]})},n.login=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(me,{}),Object(v.jsx)(ut,{})]})},n.state={login:n.props.login.user_id,casa:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return""!==this.props.login.user_id&&""!==this.props.login.home_id&&null!==this.props.login.home_id?this.routes():""===this.props.login.user_id&&""===this.props.login.home_id?this.login():this.casa()}}]),a}(n.Component),_t=Object(g.b)((function(e){return{login:e.login}}))(yt),wt=a(16),Ct=Object(wt.c)({login:he,rule:_e,user:J,todo:Qe,shopping:Ne,bill:D,home:Ot}),kt=a(38),Nt=a(50),St={key:"login",storage:a.n(Nt).a,whitelist:["login"]},Dt=Object(kt.a)(St,Ct),Ut=Object(w.a)({reducer:Dt}),qt=Object(kt.b)(Ut),Bt=a(51);i.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(g.a,{store:Ut,children:Object(v.jsx)(Bt.a,{loading:null,persistor:qt,children:Object(v.jsx)(_t,{})})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.76104d95.chunk.js.map